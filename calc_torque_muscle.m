%筋腱によるトルクの計算　calc_EOM_workから書き出されたファイル

function torque_muscle = calc_torque_muscle(in1,in2,in3,in4,in5,in6)
%CALC_TORQUE_MUSCLE
%    TORQUE_MUSCLE = CALC_TORQUE_MUSCLE(IN1,IN2,IN3,IN4,IN5,IN6)

%    This function was generated by the Symbolic Math Toolbox version 9.2.
%    11-Jul-2024 19:13:21

L_4th_troch = in1(4,:);
L_Ci = in2(1,:);
L_GE = in2(4,:);
L_GEo = in2(3,:);
L_GE_origin = in1(5,:);
L_fem = in1(1,:);
L_frame = in1(6,:);
L_met = in1(3,:);
L_tib = in1(2,:);
k_Ci = in3(1,:);
k_GE = in3(4,:);
k_GEo = in3(3,:);
l_CFL = in5(10,:);
r = in1(7,:);
theta1 = in5(5,:);
theta2 = in5(6,:);
theta3 = in5(7,:);
theta4 = in5(8,:);
theta_CFL = in5(9,:);
x1 = in5(1,:);
x3 = in5(3,:);
y1 = in5(2,:);
y3 = in5(4,:);
t2 = conj(L_fem);
t3 = conj(L_frame);
t4 = conj(L_tib);
t5 = conj(r);
t6 = conj(theta1);
t7 = conj(theta2);
t8 = conj(theta3);
t9 = cos(theta1);
t10 = cos(theta_CFL);
t11 = conj(x1);
t12 = conj(x3);
t13 = conj(y1);
t14 = conj(y3);
t15 = sin(theta1);
t16 = sin(theta_CFL);
t18 = theta1+theta2;
t20 = r.^2;
t21 = x1.*2.0;
t22 = x3.^2;
t23 = y1.*2.0;
t24 = y3.^2;
t34 = -L_GE;
t38 = -x3;
t39 = -y1;
t17 = cos(t6);
t19 = sin(t6);
t25 = t5.^2;
t26 = t11.*2.0;
t27 = t12.^2;
t28 = t13.*2.0;
t29 = t14.^2;
t30 = L_frame.*t9;
t31 = L_frame.*t15;
t32 = l_CFL.*t10;
t33 = cos(t18);
t35 = l_CFL.*t16;
t36 = sin(t18);
t37 = t18+theta3;
t40 = -t23;
t41 = t6+t7;
t45 = -t13;
t49 = t20.*x3;
t50 = t20.*y3;
t51 = -t20;
t42 = cos(t37);
t43 = sin(t37);
t44 = t37+theta4;
t46 = -t28;
t47 = t30.*2.0;
t48 = t31.*2.0;
t52 = t3.*t17;
t53 = L_4th_troch.*t33;
t54 = L_GE_origin.*t33;
t55 = L_fem.*t33;
t56 = t3.*t19;
t57 = L_4th_troch.*t36;
t58 = L_GE_origin.*t36;
t59 = L_fem.*t36;
t60 = cos(t41);
t61 = sin(t41);
t63 = -t32;
t65 = -t35;
t70 = t12.*t25;
t71 = t14.*t25;
t72 = -t50;
t75 = t8+t41;
t62 = cos(t44);
t64 = sin(t44);
t66 = t52.*2.0;
t67 = t55.*2.0;
t68 = t56.*2.0;
t69 = t59.*2.0;
t73 = L_tib.*t42;
t74 = L_tib.*t43;
t77 = cos(t75);
t79 = sin(t75);
t84 = -t71;
t85 = t2.*t60;
t86 = t2.*t61;
t98 = t30+t39+t54+y3;
t100 = t31+t38+t58+x1;
t101 = t31+t57+t65;
t102 = t30+t53+t63;
t76 = L_met.*t62;
t78 = L_met.*t64;
t80 = t73.*2.0;
t81 = t74.*2.0;
t87 = t85.*2.0;
t88 = t86.*2.0;
t89 = t4.*t77;
t90 = t4.*t79;
t93 = t55+t73;
t94 = t59+t74;
t104 = t100.^2;
t106 = t98.^2;
t107 = t102.^2;
t108 = t101.^2;
t82 = t76.*2.0;
t83 = t78.*2.0;
t91 = t89.*2.0;
t92 = t90.*2.0;
t95 = t73+t76;
t96 = t67+t80;
t97 = t74+t78;
t99 = t69+t81;
t103 = t30+t93;
t105 = t31+t94;
t114 = t76+t93;
t116 = t78+t94;
t141 = t11+t56+t86+t90;
t149 = t45+t52+t85+t89;
t169 = t104+t106;
t177 = t107+t108;
t109 = t105+x1;
t110 = t47+t96;
t113 = t48+t99;
t115 = t39+t103;
t130 = t76+t103;
t131 = t78+t105;
t145 = t141.^2;
t146 = t141.^3;
t153 = t149.^2;
t154 = t149.^3;
t155 = t25.*t141;
t156 = t27.*t141;
t157 = t29.*t141;
t160 = t26+t68+t88+t92;
t163 = t46+t66+t87+t91;
t170 = t25.*t149;
t171 = t27.*t149;
t172 = t29.*t149;
t186 = sqrt(t169);
t191 = sqrt(t177);
t111 = t109.^2;
t112 = t109.^3;
t117 = t20.*t109;
t118 = t22.*t109;
t119 = t24.*t109;
t120 = t21+t113;
t121 = t115.^2;
t122 = t115.^3;
t124 = t40+t110;
t125 = t51.*t109;
t127 = t20.*t115;
t128 = t22.*t115;
t129 = t24.*t115;
t134 = t80.*t109;
t136 = t78+t109;
t137 = t51.*t115;
t138 = t73.*t109.*-2.0;
t142 = t76+t115;
t143 = t81.*t115;
t161 = t12.*t145.*2.0;
t162 = t93.*t109.*2.0;
t165 = -t155;
t168 = t12.*t160;
t173 = t14.*t153.*2.0;
t174 = t94.*t115.*2.0;
t176 = t14.*t163;
t178 = t103.*t109.*2.0;
t180 = -t170;
t188 = t105.*t115.*2.0;
t189 = 1.0./t186;
t192 = -t186;
t195 = 1.0./t191;
t200 = -t191;
t236 = t145.*t149;
t237 = t141.*t153;
t239 = t14.*t149.*t160;
t123 = t111.*x3.*2.0;
t132 = t120.*x3;
t133 = t121.*y3.*2.0;
t135 = t124.*y3;
t139 = t38.*t120;
t140 = t136.^2;
t144 = t20.*t136;
t147 = t76.*t120;
t148 = t142.^2;
t150 = t78.*t124;
t151 = t83+t120;
t152 = t82+t124;
t159 = t20.*t142;
t164 = t80.*t136;
t166 = -t161;
t167 = t82.*t136;
t175 = t81.*t142;
t179 = -t168;
t181 = t83.*t142;
t182 = -t174;
t183 = t74.*t142.*-2.0;
t184 = -t178;
t185 = t78.*t142.*-2.0;
t187 = t95.*t120;
t190 = t97.*t124;
t193 = t111.*t115;
t194 = t109.*t121;
t197 = t96.*t136;
t198 = t95.*t136.*2.0;
t199 = L_GEo+t192;
t203 = t99.*t142;
t204 = t114.*t120;
t205 = t97.*t142.*2.0;
t206 = t116.*t124;
t207 = L_Ci+t200;
t209 = t115.*t120.*y3;
t211 = t110.*t136;
t213 = t111.*t136.*2.0;
t215 = t114.*t136.*2.0;
t217 = t120.*t130;
t218 = t120.*t136;
t221 = t113.*t142;
t222 = t124.*t131;
t224 = t116.*t142.*2.0;
t228 = t130.*t136.*2.0;
t230 = t124.*t142;
t232 = t121.*t142.*2.0;
t234 = t131.*t142.*2.0;
t238 = t149.*t168;
t243 = t115.*t120.*t142;
t126 = -t123;
t158 = -t147;
t196 = -t190;
t201 = -t198;
t202 = -t197;
t208 = t115.*t132;
t210 = -t204;
t212 = t109.*t140;
t214 = t115.*t139;
t216 = -t213;
t219 = t109.*t148;
t220 = t115.*t140;
t223 = -t218;
t225 = -t221;
t226 = -t222;
t227 = -t224;
t229 = t115.*t148;
t231 = -t228;
t233 = -t232;
t235 = -t230;
t240 = t149.*t179;
t241 = t115.*t218;
t244 = -t243;
t245 = t22+t24+t111+t121+t135+t139;
t263 = t27+t29+t145+t153+t176+t179;
t242 = t115.*t223;
t246 = 1.0./t245;
t247 = t51+t245;
t261 = t150+t158+t167+t185;
t265 = 1.0./t263;
t267 = t111+t121+t140+t148+t223+t235;
t279 = t138+t143+t164+t183+t187+t196+t201+t205;
t280 = t162+t182+t202+t203+t206+t210+t215+t227;
t281 = t184+t188+t211+t217+t225+t226+t231+t234;
t248 = sqrt(t247);
t268 = 1.0./t267;
t270 = t51+t267;
t249 = conj(t248);
t250 = r.*t248.*x3;
t251 = r.*t248.*y3;
t252 = r.*t38.*t248;
t258 = r.*t109.*t248;
t259 = r.*t115.*t248;
t269 = t268.^2;
t271 = sqrt(t270);
t253 = -t251;
t254 = t5.*t12.*t249;
t255 = t5.*t14.*t249;
t260 = -t259;
t262 = t5.*t141.*t249;
t264 = t5.*t149.*t249;
t272 = 1.0./t271;
t273 = r.*t109.*t271;
t275 = r.*t115.*t271;
t276 = r.*t136.*t271;
t277 = r.*t142.*t271;
t283 = t72+t122+t128+t129+t133+t137+t193+t214+t252+t258;
t256 = -t254;
t257 = -t255;
t266 = -t264;
t274 = -t273;
t278 = -t277;
t282 = t49+t112+t118+t119+t125+t126+t194+t209+t253+t260;
t291 = t246.*t283;
t284 = t246.*t282;
t285 = t70+t146+t156+t157+t165+t166+t237+t239+t257+t266;
t292 = t84+t154+t171+t172+t173+t180+t236+t240+t256+t262;
t293 = t291+y3;
t302 = t112+t125+t144+t194+t212+t216+t219+t244+t275+t278;
t303 = t122+t137+t159+t193+t220+t229+t233+t242+t274+t276;
t286 = -t284;
t289 = (t284-x3).^2;
t294 = abs(t293);
t295 = t293.^2;
t297 = t265.*t285;
t300 = t265.*t292;
t304 = t268.*t302;
t306 = t268.*t303;
t287 = t286+x3;
t296 = t294.^2;
t298 = -t297;
t301 = t14+t300;
t305 = -t304;
t307 = -t306;
t314 = t289+t295;
t288 = abs(t287);
t299 = t12+t298;
t308 = t136+t305;
t311 = t142+t307;
t316 = sqrt(t314);
t290 = t288.^2;
t309 = abs(t308);
t312 = abs(t311);
t318 = t299.*t308;
t320 = t301.*t311;
t310 = t309.^2;
t313 = t312.^2;
t315 = t290+t296;
t319 = -t318;
t317 = 1.0./sqrt(t315);
t321 = t310+t313;
t323 = t319+t320;
t322 = 1.0./sqrt(t321);
t324 = -t317.*t322.*(t318-t320);
t325 = acos(t324);
t326 = r.*t325;
t327 = t34+t316+t326;
et1 = k_Ci.*t101.*t195.*t207.*(t30+t53)-k_Ci.*t102.*t195.*t207.*(t31+t57)+k_GEo.*t100.*t189.*t199.*(t30+t54)-k_GEo.*t98.*t189.*t199.*(t31+t58)+k_GE.*t311.*t322.*t327.*(t268.*(t20.*t131+t51.*t105+t105.*t111+t105.*t121.*3.0+t105.*t140-t121.*t131.*2.0+t105.*t148+t115.*t211+t105.*t223+t115.*t217+t115.*t234+r.*t103.*t271-r.*t130.*t271-t103.*t109.*t115.*2.0-t105.*t115.*t142.*4.0-t115.*t130.*t136.*2.0+(r.*t109.*t272.*(t178-t188-t211-t217+t221+t222+t228-t234))./2.0-(r.*t136.*t272.*(t178-t188-t211-t217+t221+t222+t228-t234))./2.0)+t269.*t303.*(t178-t188-t211-t217+t221+t222+t228-t234));
et2 = -k_GE.*t308.*t322.*t327.*(t268.*(t20.*t130+t51.*t103+t103.*t111.*3.0+t103.*t121-t111.*t130.*2.0+t103.*t140+t103.*t148+t109.*t228-r.*t105.*t271+r.*t131.*t271-t105.*t109.*t115.*2.0-t103.*t109.*t136.*4.0+t115.*t120.*t131+t105.*t120.*t142-t110.*t115.*t142-t109.*t131.*t142.*2.0+(r.*t115.*t272.*(t178-t188-t211-t217+t221+t222+t228-t234))./2.0-(r.*t142.*t272.*(t178-t188-t211-t217+t221+t222+t228-t234))./2.0)-t269.*t302.*(t178-t188-t211-t217+t221+t222+t228-t234));
et3 = k_GE.*t311.*t322.*t327.*(t268.*(t20.*t116+t51.*t94+t94.*t111+t94.*t121.*3.0+t94.*t140-t116.*t121.*2.0+t94.*t148+t115.*t197+t94.*t223+t115.*t204+t115.*t224+r.*t93.*t271-r.*t114.*t271-t93.*t109.*t115.*2.0-t94.*t115.*t142.*4.0-t114.*t115.*t136.*2.0+(r.*t109.*t272.*t280)./2.0-(r.*t136.*t272.*t280)./2.0)+t269.*t280.*t303)+k_Ci.*t53.*t101.*t195.*t207-k_Ci.*t57.*t102.*t195.*t207+k_GEo.*t54.*t100.*t189.*t199-k_GEo.*t58.*t98.*t189.*t199;
et4 = -k_GE.*t308.*t322.*t327.*(t268.*(t20.*t114+t51.*t93+t93.*t111.*3.0+t93.*t121-t111.*t114.*2.0+t93.*t140+t93.*t148+t109.*t215-r.*t94.*t271+r.*t116.*t271-t94.*t109.*t115.*2.0-t93.*t109.*t136.*4.0+t115.*t116.*t120-t96.*t115.*t142+t94.*t120.*t142-t109.*t116.*t142.*2.0+(r.*t115.*t272.*t280)./2.0-(r.*t142.*t272.*t280)./2.0)-t269.*t280.*t302);
et5 = k_GE.*t311.*t322.*t327.*(t268.*(t20.*t97+t51.*t74+t74.*t111+t74.*t121.*3.0+t74.*t140-t97.*t121.*2.0+t74.*t148+t115.*t138+t115.*t164+t74.*t223+t115.*t187+t115.*t205+r.*t73.*t271-r.*t95.*t271-t74.*t115.*t142.*4.0-t95.*t115.*t136.*2.0-(r.*t109.*t272.*(t143+t164+t183+t187+t196+t201+t205-t73.*t109.*2.0))./2.0+(r.*t136.*t272.*(t143+t164+t183+t187+t196+t201+t205-t73.*t109.*2.0))./2.0)-t269.*t303.*(t143+t164+t183+t187+t196+t201+t205-t73.*t109.*2.0));
et6 = -k_GE.*t308.*t322.*t327.*(t268.*(t20.*t95+t51.*t73+t73.*t111.*3.0+t73.*t121-t95.*t111.*2.0+t73.*t140+t73.*t148+t109.*t198-r.*t74.*t271+r.*t97.*t271-t74.*t109.*t115.*2.0-t73.*t109.*t136.*4.0-t73.*t115.*t142.*2.0+t97.*t115.*t120+t74.*t120.*t142-t97.*t109.*t142.*2.0-(r.*t115.*t272.*(t143+t164+t183+t187+t196+t201+t205-t73.*t109.*2.0))./2.0+(r.*t142.*t272.*(t143+t164+t183+t187+t196+t201+t205-t73.*t109.*2.0))./2.0)+t269.*t302.*(t143+t164+t183+t187+t196+t201+t205-t73.*t109.*2.0));
mt1 = [k_Ci.*t101.*t195.*t207+k_GEo.*t100.*t189.*t199-k_GE.*t268.*t308.*t322.*t327.*(t111+t121+t140+t148-t218.*2.0-t115.*t142.*2.0+t109.*t151)+k_GE.*t268.*t311.*t322.*t327.*(t115.*t136.*2.0-t115.*t151);-k_Ci.*t102.*t195.*t207-k_GEo.*t98.*t189.*t199+k_GE.*t268.*t308.*t322.*t327.*(t109.*t124-t115.*t120+t109.*t152-t120.*t142)+k_GE.*t268.*t311.*t322.*t327.*(t111+t121+t140+t148+t223-t230.*2.0+t115.*t152);0.0;0.0;et1+et2;et3+et4;et5+et6];
mt2 = [-k_GE.*t308.*t322.*t327.*(t268.*(t20.*t76-t76.*t111.*2.0+t109.*t167+t109.*t185+r.*t78.*t271+t78.*t115.*t120-(r.*t115.*t272.*(t147-t150+t181-t76.*t136.*2.0))./2.0+(r.*t142.*t272.*(t147-t150+t181-t76.*t136.*2.0))./2.0)+t269.*t302.*(t147-t150+t181-t76.*t136.*2.0))+k_GE.*t311.*t322.*t327.*(t268.*(t20.*t78-t78.*t121.*2.0+t115.*t147+t115.*t181-r.*t76.*t271-t76.*t115.*t136.*2.0-(r.*t109.*t272.*(t147-t150+t181-t76.*t136.*2.0))./2.0+(r.*t136.*t272.*(t147-t150+t181-t76.*t136.*2.0))./2.0)-t269.*t303.*(t147-t150+t181-t76.*t136.*2.0));0.0;0.0];
torque_muscle = [mt1;mt2];
