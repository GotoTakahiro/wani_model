function G = Stiffness_matrix(in1,in2,in3,in4,in5,g,in7,in8)
%Stiffness_matrix
%    G = Stiffness_matrix(IN1,IN2,IN3,IN4,IN5,g,IN7,IN8)

%    This function was generated by the Symbolic Math Toolbox version 25.2.
%    2025/10/31 01:49:51

L_4th_troch = in2(4,:);
L_Ci = in3(1,:);
L_CFLT = in3(2,:);
L_GE = in3(4,:);
L_GEo = in3(3,:);
L_GE_origin = in2(5,:);
L_fem = in2(1,:);
L_frame = in2(6,:);
L_met = in2(3,:);
L_tib = in2(2,:);
M1 = in1(1,:);
M2 = in1(2,:);
M3 = in1(3,:);
M_fem = in1(6,:);
M_frame = in1(5,:);
M_hip = in1(4,:);
M_met = in1(10,:);
M_met_rod = in1(9,:);
M_met_pulley = in1(8,:);
M_tib = in1(7,:);
ankle_limit_ex = in5(1,:);
ankle_limit_flex = in5(2,:);
default_frame_angle = in5(3,:);
dl_CFL = in8(10,:);
dtheta1 = in8(5,:);
dtheta2 = in8(6,:);
dtheta3 = in8(7,:);
dtheta4 = in8(8,:);
dtheta_CFL = in8(9,:);
dx1 = in8(1,:);
dy1 = in8(2,:);
k_Ci = in4(1,:);
k_CFLT = in4(2,:);
k_GE = in4(4,:);
k_GEo = in4(3,:);
k_ankle_ex = in4(5,:);
k_ankle_flex = in4(6,:);
k_frame = in4(7,:);
l_CFL = in7(10,:);
r = in2(7,:);
theta1 = in7(5,:);
theta2 = in7(6,:);
theta3 = in7(7,:);
theta4 = in7(8,:);
theta_CFL = in7(9,:);
x1 = in7(1,:);
x3 = in7(3,:);
y1 = in7(2,:);
y3 = in7(4,:);
t2 = conj(L_fem);
t3 = conj(L_frame);
t4 = conj(L_met);
t5 = conj(L_tib);
t6 = conj(r);
t7 = conj(theta1);
t8 = conj(theta2);
t9 = conj(theta3);
t10 = conj(theta4);
t11 = cos(theta1);
t12 = cos(theta_CFL);
t13 = conj(x1);
t14 = conj(x3);
t15 = conj(y1);
t16 = conj(y3);
t17 = sin(theta1);
t18 = sin(theta_CFL);
t20 = theta1+theta2;
t22 = r.^2;
t23 = theta4.*2.0;
t24 = x1.*2.0;
t25 = x3.*2.0;
t26 = x3.^2;
t27 = y1.*2.0;
t28 = y3.*2.0;
t29 = y3.^2;
t30 = L_frame.*M_hip;
t31 = M_frame+M_hip;
t32 = M_met_rod+M_met_pulley;
t46 = -L_GE;
t51 = -x3;
t53 = -y1;
t88 = (L_frame.*M_frame)./2.0;
t19 = cos(t7);
t21 = sin(t7);
t33 = t6.^2;
t34 = t13.*2.0;
t35 = t14.*2.0;
t36 = t14.^2;
t37 = t15.*2.0;
t38 = t16.*2.0;
t39 = t16.^2;
t40 = L_frame.*t11;
t41 = L_frame.*t17;
t42 = dl_CFL.*t12;
t43 = l_CFL.*t12;
t44 = dl_CFL.*t18;
t45 = cos(t20);
t47 = l_CFL.*t18;
t48 = sin(t20);
t49 = t20+theta3;
t50 = -t23;
t52 = -t25;
t54 = -t27;
t56 = t7+t8;
t62 = -t15;
t67 = t22.*x3;
t68 = t22.*y3;
t70 = -t22;
t75 = 1.0./t31;
t76 = 1.0./t32;
t123 = t30+t88;
t55 = dtheta_CFL.*t43;
t57 = dtheta_CFL.*t47;
t58 = cos(t49);
t59 = sin(t49);
t60 = t49+theta4;
t61 = -t35;
t63 = -t37;
t64 = t40.*2.0;
t65 = t41.*2.0;
t66 = t43.*2.0;
t69 = t47.*2.0;
t71 = t3.*t19;
t72 = L_4th_troch.*t45;
t73 = L_GE_origin.*t45;
t74 = L_fem.*t45;
t77 = t3.*t21;
t78 = L_4th_troch.*t48;
t79 = L_GE_origin.*t48;
t80 = L_fem.*t48;
t81 = cos(t56);
t82 = sin(t56);
t84 = -t42;
t85 = -t43;
t87 = -t47;
t95 = t14.*t33;
t96 = t16.*t33;
t97 = -t33;
t98 = -t68;
t101 = t9+t56;
t124 = t43+t53+y3;
t125 = t47+t51+x1;
t83 = cos(t60);
t86 = sin(t60);
t89 = t71.*2.0;
t90 = t73.*2.0;
t91 = t74.*2.0;
t92 = t77.*2.0;
t93 = t79.*2.0;
t94 = t80.*2.0;
t99 = L_tib.*t58;
t100 = L_tib.*t59;
t103 = cos(t101);
t105 = sin(t101);
t112 = t74./2.0;
t113 = t80./2.0;
t114 = -t96;
t115 = t2.*t81;
t116 = t2.*t82;
t117 = t10+t101;
t144 = dx1+t44+t55;
t149 = t124.^2;
t150 = t125.^2;
t153 = dy1+t57+t84;
t154 = t28+t54+t66;
t155 = t24+t52+t69;
t174 = t40+t53+t73+y3;
t176 = t41+t51+t79+x1;
t178 = t41+t78+t87;
t183 = t40+t72+t85;
t102 = L_met.*t83;
t104 = L_met.*t86;
t106 = t99.*2.0;
t107 = t100.*2.0;
t109 = t25.*t99;
t111 = t28.*t100;
t118 = -t99;
t119 = cos(t117);
t120 = sin(t117);
t126 = t115.*2.0;
t127 = t116.*2.0;
t129 = t26.*t99;
t130 = t29.*t99;
t132 = t26.*t100;
t133 = t29.*t100;
t134 = dtheta2.*t112;
t135 = t99./2.0;
t136 = dtheta2.*t113;
t137 = t100./2.0;
t142 = t5.*t103;
t143 = t5.*t105;
t147 = t70.*t99;
t148 = t70.*t100;
t158 = t40+t112;
t161 = t41+t113;
t162 = t74+t99;
t163 = t80+t100;
t185 = t176.^2;
t196 = t174.^2;
t198 = t183.^2;
t203 = t178.^2;
t205 = t24+t52+t65+t93;
t210 = t28+t54+t64+t90;
t252 = t149+t150;
t108 = t102.*2.0;
t110 = t104.*2.0;
t121 = -t102;
t122 = -t104;
t138 = t22.*t102;
t139 = t22.*t104;
t140 = dtheta3.*t135;
t141 = dtheta3.*t137;
t145 = t142.*2.0;
t146 = t143.*2.0;
t151 = t4.*t119;
t152 = t4.*t120;
t157 = t35.*t142;
t160 = t38.*t143;
t165 = t36.*t142;
t166 = t39.*t142;
t168 = t36.*t143;
t169 = t39.*t143;
t170 = dtheta1.*t161;
t171 = t99+t102;
t172 = t91+t106;
t173 = t100+t104;
t175 = t94+t107;
t177 = dtheta1.*t158;
t179 = t74+t135;
t180 = t97.*t142;
t181 = t97.*t143;
t182 = t80+t137;
t184 = t40+t162;
t186 = t41+t163;
t190 = t26.*t162;
t191 = t29.*t162;
t193 = t26.*t163;
t194 = t29.*t163;
t195 = (M_met_rod.*t76.*t102)./2.0;
t197 = (M_met_rod.*t76.*t104)./2.0;
t207 = t70.*t162;
t209 = t70.*t163;
t217 = t115+t142;
t218 = t116+t143;
t227 = t102+t162;
t229 = t104+t163;
t302 = sqrt(t252);
t389 = t185+t196;
t402 = t198+t203;
t156 = t151.*2.0;
t159 = t152.*2.0;
t187 = t172.*x3;
t188 = t175.*y3;
t199 = dtheta2.*t179;
t200 = dtheta4.*t195;
t201 = dtheta4.*t197;
t202 = dtheta2.*t182;
t204 = t186+x1;
t206 = t22.*t171;
t208 = t22.*t173;
t211 = t40+t179;
t212 = t64+t172;
t215 = t41+t182;
t216 = t65+t175;
t220 = t26.*t184;
t221 = t29.*t184;
t223 = t26.*t186;
t224 = t29.*t186;
t228 = t53+t184;
t231 = t126+t145;
t232 = t127+t146;
t243 = t70.*t184;
t246 = t70.*t186;
t249 = t143+t152;
t256 = t142+t151;
t258 = t99+t195;
t261 = t22.*t229;
t262 = t100+t197;
t263 = t102+t184;
t265 = t104+t186;
t271 = t36.*t217;
t272 = t39.*t217;
t276 = t22.*t227;
t277 = t36.*t218;
t278 = t39.*t218;
t281 = t71+t217;
t282 = t77+t218;
t288 = dx1+t134+t177;
t289 = dy1+t136+t170;
t292 = t97.*t217;
t299 = t97.*t218;
t308 = 1.0./t302;
t333 = t162+t195;
t335 = -t302;
t336 = t163+t197;
t363 = t151+t217;
t365 = t152+t218;
t377 = t186+t197;
t383 = t184+t195;
t433 = sqrt(t389);
t447 = sqrt(t402);
t213 = t204.^2;
t214 = t204.^3;
t225 = t25.*t204;
t230 = t216.*y3;
t235 = t204.*y3.*-2.0;
t236 = dtheta1.*t211;
t237 = t212.*x3;
t239 = t26.*t204;
t240 = t29.*t204;
t241 = dtheta1.*t215;
t242 = t24+t216;
t244 = t228.^2;
t245 = t228.^3;
t251 = t28.*t228;
t253 = t54+t212;
t254 = t70.*t204;
t259 = t26.*t228;
t260 = t29.*t228;
t264 = t14.*t231;
t266 = t16.*t232;
t269 = t228.*x3.*-2.0;
t285 = t104+t204;
t286 = t70.*t228;
t287 = t99.*t204.*-2.0;
t293 = dtheta3.*t258;
t300 = t99.*t204.*x3.*4.0;
t301 = dtheta3.*t262;
t304 = t13+t282;
t307 = t102+t228;
t310 = t22.*t263;
t311 = t89+t231;
t312 = t92+t232;
t313 = t22.*t265;
t314 = t107.*t228;
t316 = t109.*t228;
t319 = t100.*t228.*y3.*4.0;
t325 = t36.*t281;
t326 = t39.*t281;
t329 = t36.*t282;
t330 = t39.*t282;
t337 = t62+t281;
t347 = t97.*t281;
t354 = dtheta2.*t333;
t355 = L_CFLT+t335;
t356 = t97.*t282;
t360 = dtheta2.*t336;
t369 = t162.*t204.*2.0;
t372 = t162.*t204.*x3.*4.0;
t397 = dtheta1.*t383;
t398 = t163.*t228.*2.0;
t399 = dtheta1.*t377;
t403 = t184.*t204.*2.0;
t411 = t163.*t228.*y3.*4.0;
t420 = t187.*t228;
t421 = t172.*t228.*y3;
t426 = t184.*t204.*x3.*4.0;
t428 = t151+t281;
t430 = t152+t282;
t438 = t186.*t228.*2.0;
t441 = 1.0./t433;
t450 = t186.*t228.*y3.*4.0;
t451 = -t433;
t460 = 1.0./t447;
t469 = t212.*t228.*y3;
t479 = -t447;
t518 = t100.*t204.*t228.*-2.0;
t590 = t162.*t204.*t228.*-2.0;
t594 = t163.*t204.*t228.*-2.0;
t621 = t186.*t204.*t228.*-2.0;
t624 = t184.*t204.*t228.*-2.0;
t233 = t213.*2.0;
t234 = t213.*3.0;
t255 = t213.*x3.*-2.0;
t267 = t244.*2.0;
t268 = t244.*3.0;
t273 = t242.*x3;
t274 = t242.*y3;
t279 = t28.*t244;
t283 = t253.*y3;
t290 = t28.*t253;
t291 = t28+t253;
t294 = t51.*t242;
t296 = t52+t242;
t298 = t100.*t213;
t303 = t285.^2;
t306 = -t300;
t315 = t99.*t244;
t317 = t99.*t251;
t318 = t22.*t285;
t320 = t102.*t213.*-2.0;
t321 = t304.^2;
t322 = t304.^3;
t328 = t102.*t242;
t334 = t307.^2;
t341 = t110+t242;
t343 = t14.*t311;
t344 = t35.*t304;
t346 = t16.*t312;
t348 = t108+t253;
t349 = t337.^2;
t350 = t337.^3;
t352 = t36.*t304;
t353 = t39.*t304;
t359 = t22.*t307;
t364 = t104.*t244.*-2.0;
t366 = t16.*t304.*-2.0;
t367 = t34+t312;
t370 = t63+t311;
t371 = t106.*t285;
t373 = t163.*t213;
t374 = t97.*t304;
t379 = t108.*t285;
t382 = -t369;
t385 = t38.*t337;
t386 = -t372;
t391 = t36.*t337;
t392 = t39.*t337;
t394 = t14.*t337.*-2.0;
t404 = t162.*t244;
t410 = t97.*t337;
t413 = t110.*t307;
t415 = -t398;
t416 = t100.*t307.*-2.0;
t419 = -t403;
t423 = t104.*t307.*-2.0;
t427 = t186.*t213;
t429 = t171.*t213.*-2.0;
t432 = -t426;
t434 = t171.*t242;
t435 = t145.*t304;
t442 = t173.*t253;
t443 = t152+t304;
t444 = t142.*t304.*-2.0;
t445 = t173.*t244.*-2.0;
t448 = t184.*t244;
t449 = t14.*t142.*t304.*4.0;
t454 = t146.*t337;
t457 = t213.*t228;
t458 = t204.*t244;
t464 = t172.*t285;
t465 = t143.*t337.*-2.0;
t468 = t228.*t237;
t470 = t171.*t285.*2.0;
t471 = t204.*t253;
t472 = t151+t337;
t473 = t16.*t143.*t337.*4.0;
t476 = t213.*t227.*-2.0;
t478 = L_GEo+t451;
t482 = t157.*t337;
t484 = t175.*t307;
t486 = t227.*t242;
t489 = t228.*t242;
t496 = t173.*t307.*2.0;
t497 = t229.*t253;
t499 = L_Ci+t479;
t511 = t212.*t285;
t514 = t229.*t244.*-2.0;
t517 = t228.*t287;
t521 = t213.*t263.*-2.0;
t524 = t227.*t285.*2.0;
t525 = t228.*t285.*2.0;
t526 = t213.*t285.*-2.0;
t527 = t242.*t263;
t530 = t217.*t304.*2.0;
t531 = t242.*t285;
t534 = t216.*t307;
t535 = t253.*t265;
t536 = t244.*t265.*-2.0;
t541 = t14.*t217.*t304.*4.0;
t546 = t228.*t307.*2.0;
t549 = t229.*t307.*2.0;
t550 = t99.*t204.*t285.*4.0;
t554 = dx1+t140+t199+t236;
t558 = dy1+t141+t202+t241;
t561 = t218.*t337.*2.0;
t562 = t242.*t307;
t563 = t263.*t285.*2.0;
t567 = t253.*t307;
t573 = t16.*t218.*t337.*4.0;
t581 = t244.*t307.*-2.0;
t583 = t265.*t307.*2.0;
t586 = t264.*t337;
t587 = t16.*t231.*t337;
t591 = t281.*t304.*2.0;
t598 = t102.*t228.*t285.*-2.0;
t604 = t14.*t281.*t304.*4.0;
t609 = t100.*t228.*t307.*4.0;
t616 = t99.*t228.*t307.*-2.0;
t617 = t282.*t337.*2.0;
t623 = t162.*t204.*t285.*4.0;
t627 = t16.*t282.*t337.*4.0;
t636 = t16.*t311.*t337;
t639 = t184.*t204.*t285.*4.0;
t649 = t163.*t228.*t307.*4.0;
t652 = t171.*t228.*t285.*-2.0;
t653 = t173.*t204.*t307.*-2.0;
t662 = t172.*t228.*t307;
t674 = t186.*t228.*t307.*4.0;
t686 = t227.*t228.*t285.*-2.0;
G = ft_1({M1,M2,M3,M_fem,M_frame,M_hip,M_met,M_met_rod,M_tib,ankle_limit_ex,ankle_limit_flex,default_frame_angle,dtheta1,dtheta2,dtheta3,dtheta_CFL,dx1,dy1,g,k_CFLT,k_Ci,k_GE,k_GEo,k_ankle_ex,k_ankle_flex,k_frame,r,t100,t102,t104,t109,t11,t111,t112,t113,t114,t118,t12,t121,t122,t123,t124,t125,t129,t130,t132,t133,t134,t135,t136,t137,t138,t139,t14,t140,t141,t142,t143,t144,t145,t146,t147,t148,t151,t152,t153,t154,t155,t156,t157,t159,t16,t160,t161,t162,t163,t165,t166,t168,t169,t17,t170,t171,t173,t174,t176,t177,t178,t179,t18,t180,t181,t182,t183,t184,t186,t187,t188,t190,t191,t193,t194,t195,t197,t199,t200,t201,t202,t204,t205,t206,t207,t208,t209,t210,t212,t213,t214,t215,t217,t218,t22,t220,t221,t223,t224,t225,t227,t228,t229,t230,t231,t232,t233,t234,t235,t236,t237,t239,t240,t241,t243,t244,t245,t246,t249,t251,t253,t254,t255,t256,t258,t259,t26,t260,t261,t262,t263,t264,t265,t266,t267,t268,t269,t271,t272,t273,t274,t276,t277,t278,t279,t281,t282,t283,t285,t286,t287,t288,t289,t29,t290,t291,t292,t293,t294,t296,t298,t299,t301,t303,t304,t306,t307,t308,t31,t310,t311,t312,t313,t314,t315,t316,t317,t318,t319,t320,t321,t322,t325,t326,t328,t329,t33,t330,t333,t334,t336,t337,t341,t343,t344,t346,t347,t348,t349,t350,t352,t353,t354,t355,t356,t359,t36,t360,t363,t364,t365,t366,t367,t369,t370,t371,t373,t374,t377,t379,t38,t382,t385,t386,t39,t391,t392,t394,t397,t398,t399,t40,t403,t404,t41,t410,t411,t413,t415,t416,t419,t42,t420,t421,t423,t427,t428,t429,t43,t430,t432,t434,t435,t438,t44,t441,t442,t443,t444,t445,t448,t449,t450,t454,t457,t458,t46,t460,t464,t465,t468,t469,t47,t470,t471,t472,t473,t476,t478,t482,t484,t486,t489,t496,t497,t499,t50,t51,t511,t514,t517,t518,t521,t524,t525,t526,t527,t530,t531,t534,t535,t536,t541,t546,t549,t55,t550,t554,t558,t561,t562,t563,t567,t57,t573,t581,t583,t586,t587,t590,t591,t594,t598,t6,t604,t609,t61,t616,t617,t621,t623,t624,t627,t636,t639,t649,t652,t653,t66,t662,t67,t674,t686,t69,t70,t72,t73,t75,t76,t78,t79,t80,t87,t90,t95,t97,t98,t99,theta1,x3,y3});
end
function G = ft_1(ct)
[M1,M2,M3,M_fem,M_frame,M_hip,M_met,M_met_rod,M_tib,ankle_limit_ex,ankle_limit_flex,default_frame_angle,dtheta1,dtheta2,dtheta3,dtheta_CFL,dx1,dy1,g,k_CFLT,k_Ci,k_GE,k_GEo,k_ankle_ex,k_ankle_flex,k_frame,r,t100,t102,t104,t109,t11,t111,t112,t113,t114,t118,t12,t121,t122,t123,t124,t125,t129,t130,t132,t133,t134,t135,t136,t137,t138,t139,t14,t140,t141,t142,t143,t144,t145,t146,t147,t148,t151,t152,t153,t154,t155,t156,t157,t159,t16,t160,t161,t162,t163,t165,t166,t168,t169,t17,t170,t171,t173,t174,t176,t177,t178,t179,t18,t180,t181,t182,t183,t184,t186,t187,t188,t190,t191,t193,t194,t195,t197,t199,t200,t201,t202,t204,t205,t206,t207,t208,t209,t210,t212,t213,t214,t215,t217,t218,t22,t220,t221,t223,t224,t225,t227,t228,t229,t230,t231,t232,t233,t234,t235,t236,t237,t239,t240,t241,t243,t244,t245,t246,t249,t251,t253,t254,t255,t256,t258,t259,t26,t260,t261,t262,t263,t264,t265,t266,t267,t268,t269,t271,t272,t273,t274,t276,t277,t278,t279,t281,t282,t283,t285,t286,t287,t288,t289,t29,t290,t291,t292,t293,t294,t296,t298,t299,t301,t303,t304,t306,t307,t308,t31,t310,t311,t312,t313,t314,t315,t316,t317,t318,t319,t320,t321,t322,t325,t326,t328,t329,t33,t330,t333,t334,t336,t337,t341,t343,t344,t346,t347,t348,t349,t350,t352,t353,t354,t355,t356,t359,t36,t360,t363,t364,t365,t366,t367,t369,t370,t371,t373,t374,t377,t379,t38,t382,t385,t386,t39,t391,t392,t394,t397,t398,t399,t40,t403,t404,t41,t410,t411,t413,t415,t416,t419,t42,t420,t421,t423,t427,t428,t429,t43,t430,t432,t434,t435,t438,t44,t441,t442,t443,t444,t445,t448,t449,t450,t454,t457,t458,t46,t460,t464,t465,t468,t469,t47,t470,t471,t472,t473,t476,t478,t482,t484,t486,t489,t496,t497,t499,t50,t51,t511,t514,t517,t518,t521,t524,t525,t526,t527,t530,t531,t534,t535,t536,t541,t546,t549,t55,t550,t554,t558,t561,t562,t563,t567,t57,t573,t581,t583,t586,t587,t590,t591,t594,t598,t6,t604,t609,t61,t616,t617,t621,t623,t624,t627,t636,t639,t649,t652,t653,t66,t662,t67,t674,t686,t69,t70,t72,t73,t75,t76,t78,t79,t80,t87,t90,t95,t97,t98,t99,theta1,x3,y3] = ct{:};
t687 = t204.*t229.*t307.*-2.0;
t691 = t212.*t228.*t307;
t703 = t109+t111+t287+t314;
t711 = t228.*t263.*t285.*-2.0;
t713 = t204.*t265.*t307.*-2.0;
t721 = (k_CFLT.*t155.*t308.*t355)./2.0;
t724 = (k_CFLT.*t154.*t308.*t355)./2.0;
t729 = t218.*t304.*t337.*-2.0;
t731 = t217.*t304.*t337.*-2.0;
t735 = t281.*t304.*t337.*-2.0;
t736 = t282.*t304.*t337.*-2.0;
t758 = dy1+t201+t301+t360+t399;
t759 = dx1+t200+t293+t354+t397;
t247 = -t233;
t295 = t273.*-2.0;
t297 = -t274;
t305 = t99.*t234;
t324 = t100.*t268;
t339 = t321.*2.0;
t340 = t321.*3.0;
t361 = t100.*t294;
t375 = t99.*t303;
t376 = t14.*t321.*-2.0;
t378 = t100.*t303;
t380 = t349.*2.0;
t381 = t349.*3.0;
t387 = t14.*t367;
t388 = t16.*t367;
t393 = t162.*t234;
t396 = t38.*t349;
t401 = t16.*t370;
t407 = t61+t367;
t409 = t99.*t334;
t412 = t100.*t334;
t417 = t38.*t370;
t418 = t38+t370;
t422 = t163.*t268;
t431 = t184.*t234;
t437 = t143.*t321;
t439 = t163.*t294;
t455 = t443.^2;
t456 = t162.*t303;
t459 = t163.*t303;
t461 = -t449;
t462 = -t442;
t463 = t186.*t268;
t467 = t142.*t349;
t474 = t186.*t294;
t480 = -t470;
t481 = -t464;
t483 = t142.*t385;
t485 = t151.*t367;
t490 = t472.^2;
t491 = t162.*t334;
t492 = t33.*t443;
t493 = t163.*t334;
t494 = -t471;
t495 = t152.*t370;
t498 = t159+t367;
t501 = t184.*t303;
t503 = t228.*t274;
t504 = t186.*t303;
t506 = -t486;
t509 = -t489;
t513 = t204.*t303;
t516 = t156+t370;
t520 = t33.*t472;
t522 = t228.*t294;
t523 = t186.*t334;
t528 = t184.*t334;
t532 = t204.*t334;
t533 = t228.*t303;
t537 = -t530;
t538 = t204.*t341;
t539 = t531.*2.0;
t540 = t218.*t321;
t542 = t145.*t443;
t543 = t228.*t328;
t544 = t204.*t348;
t545 = t104.*t489;
t547 = -t531;
t555 = -t541;
t556 = t142.*t443.*-2.0;
t557 = -t546;
t559 = -t549;
t560 = -t550;
t564 = t228.*t334;
t565 = t204.*t379;
t566 = t156.*t443;
t568 = -t561;
t569 = t228.*t341;
t571 = t217.*t349;
t574 = t146.*t472;
t575 = t228.*t348;
t576 = t567.*2.0;
t578 = -t562;
t580 = t228.*t371;
t588 = -t567;
t597 = t282.*t321;
t599 = t204.*t423;
t600 = t159.*t472;
t601 = -t591;
t602 = t152.*t472.*-2.0;
t603 = t256.*t367;
t611 = t100.*t562;
t613 = t249.*t370;
t614 = t228.*t413;
t615 = -t604;
t618 = -t609;
t620 = t281.*t349;
t626 = -t623;
t628 = t228.*t434;
t629 = t173.*t489;
t630 = t321.*t337;
t631 = t304.*t349;
t632 = t204.*t470;
t635 = t337.*t343;
t637 = t304.*t370;
t640 = t231.*t443;
t641 = t228.*t464;
t644 = t337.*t367;
t645 = -t639;
t654 = -t649;
t655 = t228.*t486;
t657 = t256.*t443.*2.0;
t658 = t163.*t562;
t659 = t229.*t489;
t660 = t232.*t472;
t661 = t363.*t367;
t666 = t365.*t370;
t667 = t204.*t524;
t668 = t228.*t496;
t669 = t228.*t511;
t671 = -t662;
t673 = t249.*t472.*2.0;
t679 = t263.*t489;
t680 = -t674;
t682 = t311.*t443;
t684 = t186.*t562;
t685 = t265.*t489;
t690 = t204.*t563;
t692 = t337.*t444;
t693 = t304.*t465;
t694 = t367.*t428;
t696 = t312.*t472;
t697 = t370.*t430;
t698 = t321.*t443.*-2.0;
t700 = t229.*t546;
t701 = -t691;
t702 = t367.*t443;
t712 = t363.*t443.*2.0;
t717 = t265.*t546;
t718 = t370.*t472;
t720 = t365.*t472.*2.0;
t722 = t349.*t472.*-2.0;
t727 = t428.*t443.*2.0;
t732 = t430.*t472.*2.0;
t737 = t26+t29+t213+t244+t283+t294;
t742 = t187+t188+t382+t398;
t745 = (k_GEo.*t210.*t441.*t478)./2.0;
t747 = (k_GEo.*t205.*t441.*t478)./2.0;
t749 = t157+t160+t444+t454;
t769 = t230+t237+t419+t438;
t358 = -t339;
t362 = t100.*t297;
t405 = -t387;
t406 = t387.*-2.0;
t408 = -t388;
t440 = t163.*t297;
t446 = t142.*t340;
t475 = t186.*t297;
t477 = t143.*t381;
t505 = -t485;
t548 = -t539;
t551 = t217.*t340;
t582 = t218.*t381;
t589 = -t576;
t595 = -t569;
t608 = t281.*t340;
t610 = t100.*t547;
t622 = -t603;
t625 = t282.*t381;
t647 = -t637;
t650 = t163.*t547;
t651 = -t640;
t656 = -t644;
t664 = t337.*t388;
t670 = -t661;
t675 = t186.*t547;
t678 = -t673;
t688 = t304.*t455;
t699 = t285.*t509;
t704 = t304.*t490;
t705 = t337.*t455;
t714 = -t702;
t715 = t307.*t509;
t716 = t337.*t490;
t723 = -t720;
t725 = -t718;
t740 = 1.0./t737;
t746 = t70+t737;
t802 = t264+t266+t537+t561;
t815 = t343+t346+t601+t617;
t824 = t471+t509+t544+t578;
t827 = t213+t244+t303+t334+t547+t588;
t900 = t369+t415+t481+t484+t497+t506+t524+t559;
t507 = t143.*t405;
t508 = t143.*t408;
t605 = t218.*t405;
t606 = t218.*t408;
t642 = t282.*t405;
t643 = t282.*t408;
t672 = t337.*t405;
t739 = t525+t595;
t741 = t740.^2;
t743 = t443.*t656;
t748 = t472.*t656;
t750 = sqrt(t746);
t790 = t36+t39+t321+t349+t401+t405;
t829 = 1.0./t827;
t831 = t70+t827;
t877 = t213+t244+t303+t334+t538+t548+t557;
t883 = t213+t244+t303+t334+t547+t575+t589;
t894 = t321+t349+t455+t490+t714+t725;
t914 = t435+t465+t556+t574+t613+t622+t657+t678;
t928 = t530+t568+t651+t660+t666+t670+t712+t723;
t751 = 1.0./t750;
t752 = conj(t750);
t753 = r.*t750;
t799 = 1.0./t790;
t830 = t829.^2;
t832 = sqrt(t831);
t896 = 1.0./t894;
t917 = t829.*t877;
t921 = t829.*t883;
t755 = t753.*y3;
t756 = t6.*t752;
t757 = 1.0./t752;
t760 = t51.*t753;
t765 = t100.*t753;
t768 = t118.*t753;
t773 = t162.*t753;
t774 = t163.*t753;
t776 = t184.*t753;
t777 = t186.*t753;
t778 = t204.*t753;
t780 = t228.*t753;
t791 = (r.*t291.*t751.*x3)./2.0;
t792 = (r.*t291.*t751.*y3)./2.0;
t793 = (r.*t296.*t751.*x3)./2.0;
t794 = (r.*t296.*t751.*y3)./2.0;
t800 = t799.^2;
t810 = (r.*t204.*t291.*t751)./2.0;
t811 = (r.*t204.*t296.*t751)./2.0;
t812 = (r.*t228.*t296.*t751)./2.0;
t813 = (r.*t228.*t291.*t751)./2.0;
t821 = (r.*t703.*t751.*y3)./2.0;
t822 = (r.*t703.*t751.*x3)./2.0;
t826 = (r.*t204.*t703.*t751)./2.0;
t828 = (r.*t228.*t703.*t751)./2.0;
t833 = conj(t832);
t834 = 1.0./t832;
t836 = (r.*t742.*t751.*x3)./2.0;
t837 = (r.*t742.*t751.*y3)./2.0;
t839 = r.*t99.*t832;
t840 = r.*t100.*t832;
t842 = r.*t104.*t832;
t844 = r.*t121.*t832;
t847 = r.*t162.*t832;
t849 = r.*t163.*t832;
t850 = r.*t171.*t832;
t851 = r.*t173.*t832;
t854 = r.*t184.*t832;
t855 = r.*t186.*t832;
t856 = r.*t204.*t832;
t859 = r.*t227.*t832;
t860 = r.*t228.*t832;
t861 = r.*t229.*t832;
t862 = (r.*t751.*t769.*x3)./2.0;
t863 = (r.*t751.*t769.*y3)./2.0;
t864 = (r.*t204.*t742.*t751)./2.0;
t867 = (r.*t228.*t742.*t751)./2.0;
t868 = r.*t265.*t832;
t869 = r.*t263.*t832;
t870 = r.*t285.*t832;
t872 = r.*t307.*t832;
t879 = (r.*t204.*t751.*t769)./2.0;
t880 = (r.*t228.*t751.*t769)./2.0;
t897 = t896.^2;
t920 = t917-1.0;
t922 = t921-1.0;
t761 = -t755;
t762 = t14.*t756;
t763 = t16.*t756;
t770 = t142.*t756;
t771 = t143.*t756;
t775 = -t773;
t779 = -t776;
t781 = t217.*t756;
t782 = t218.*t756;
t783 = -t780;
t786 = t281.*t756;
t787 = t282.*t756;
t789 = t304.*t756;
t795 = -t791;
t796 = -t793;
t797 = -t794;
t798 = t337.*t756;
t803 = (t6.*t14.*t418.*t757)./2.0;
t804 = (t6.*t16.*t418.*t757)./2.0;
t805 = (t6.*t14.*t407.*t757)./2.0;
t806 = (t6.*t16.*t407.*t757)./2.0;
t814 = -t812;
t816 = (t6.*t304.*t418.*t757)./2.0;
t817 = (t6.*t304.*t407.*t757)./2.0;
t818 = (t6.*t337.*t418.*t757)./2.0;
t819 = (t6.*t337.*t407.*t757)./2.0;
t823 = -t822;
t835 = 1.0./t833;
t838 = -t836;
t843 = -t840;
t845 = (t6.*t14.*t749.*t757)./2.0;
t846 = (t6.*t16.*t749.*t757)./2.0;
t852 = -t849;
t853 = -t850;
t857 = -t855;
t858 = -t856;
t865 = -t862;
t866 = -t859;
t871 = -t869;
t873 = t6.*t304.*t833;
t874 = -t872;
t876 = t6.*t337.*t833;
t878 = (t6.*t304.*t749.*t757)./2.0;
t881 = (t6.*t337.*t749.*t757)./2.0;
t882 = t6.*t443.*t833;
t884 = t6.*t472.*t833;
t886 = (t6.*t14.*t757.*t802)./2.0;
t887 = (t6.*t16.*t757.*t802)./2.0;
t890 = (t6.*t14.*t757.*t815)./2.0;
t891 = (t6.*t16.*t757.*t815)./2.0;
t892 = (t6.*t304.*t757.*t802)./2.0;
t895 = (t6.*t337.*t757.*t802)./2.0;
t898 = (t6.*t304.*t757.*t815)./2.0;
t899 = (t6.*t337.*t757.*t815)./2.0;
t901 = t22+t225+t247+t794+t812;
t903 = r.*t204.*t834.*(t328+t413+t122.*t253-t102.*t285.*2.0).*(-1.0./2.0);
t904 = r.*t228.*t834.*(t328+t413+t122.*t253-t102.*t285.*2.0).*(-1.0./2.0);
t907 = (r.*t285.*t834.*(t328+t413+t122.*t253-t102.*t285.*2.0))./2.0;
t909 = (r.*t307.*t834.*(t328+t413+t122.*t253-t102.*t285.*2.0))./2.0;
t919 = t98+t245+t259+t260+t279+t286+t457+t522+t760+t778;
t924 = t235+t509+t753+t792+t813;
t925 = t297+t494+t753+t792+t813;
t931 = (r.*t204.*t834.*(t314+t371+t416+t434+t462+t480+t496-t99.*t204.*2.0))./2.0;
t933 = (r.*t228.*t834.*(t314+t371+t416+t434+t462+t480+t496-t99.*t204.*2.0))./2.0;
t935 = (r.*t285.*t834.*(t314+t371+t416+t434+t462+t480+t496-t99.*t204.*2.0))./2.0;
t936 = (r.*t307.*t834.*(t314+t371+t416+t434+t462+t480+t496-t99.*t204.*2.0))./2.0;
t959 = (r.*t204.*t834.*t900)./2.0;
t961 = (r.*t228.*t834.*t900)./2.0;
t966 = (r.*t285.*t834.*t900)./2.0;
t970 = (r.*t307.*t834.*t900)./2.0;
t973 = (r.*t204.*t834.*(t403-t438-t511-t527+t534+t535+t563-t583))./2.0;
t975 = (r.*t228.*t834.*(t403-t438-t511-t527+t534+t535+t563-t583))./2.0;
t976 = r.*t285.*t834.*(t403-t438-t511-t527+t534+t535+t563-t583).*(-1.0./2.0);
t978 = r.*t307.*t834.*(t403-t438-t511-t527+t534+t535+t563-t583).*(-1.0./2.0);
t997 = t129+t130+t147+t305+t306+t315+t317+t362+t518+t765+t821+t828;
t1016 = t190+t191+t207+t386+t393+t404+t421+t440+t594+t774+t837+t867;
t1023 = t220+t221+t243+t431+t432+t448+t469+t475+t621+t777+t863+t880;
t766 = -t762;
t767 = -t763;
t772 = -t770;
t784 = -t781;
t788 = -t786;
t801 = -t798;
t807 = -t803;
t808 = -t805;
t809 = -t806;
t820 = -t819;
t848 = -t845;
t875 = -t873;
t885 = -t884;
t888 = -t886;
t893 = -t890;
t902 = t70+t251+t267+t795+t810;
t910 = t33+t344+t358+t806+t819;
t911 = t26+t29+t70+t213+t268+t290+t294+t795+t810;
t912 = t26+t29+t70+t234+t244+t251+t295+t797+t814;
t915 = t67+t214+t239+t240+t254+t255+t458+t503+t761+t783;
t916 = t740.*t901;
t923 = t269+t489+t753+t796+t811;
t932 = -t931;
t934 = -t933;
t939 = t366+t656+t756+t804+t818;
t943 = t408+t647+t756+t804+t818;
t950 = t740.*t919;
t962 = t740.*t924;
t963 = t740.*t925;
t964 = t296.*t741.*t919;
t965 = t291.*t741.*t919;
t968 = -t966;
t971 = -t970;
t980 = t703.*t741.*t919;
t984 = t741.*t742.*t919;
t987 = t741.*t769.*t919;
t1000 = t132+t133+t148+t298+t316+t319+t324+t361+t517+t768+t823+t826;
t1007 = t214+t254+t318+t458+t513+t526+t532+t715+t860+t874;
t1010 = t245+t286+t359+t457+t533+t564+t581+t699+t858+t870;
t1011 = t740.*t997;
t1018 = t193+t194+t209+t373+t411+t420+t422+t439+t590+t775+t838+t864;
t1021 = t165+t166+t180+t446+t461+t467+t483+t508+t693+t771+t846+t881;
t1024 = t223+t224+t246+t427+t450+t463+t468+t474+t624+t779+t865+t879;
t1025 = t740.*t1016;
t1036 = t740.*t1023;
t1047 = t271+t272+t292+t551+t555+t571+t587+t606+t729+t782+t887+t895;
t1060 = t138+t320+t545+t565+t599+t842+t904+t909;
t1062 = t139+t364+t543+t598+t614+t844+t903+t907;
t1063 = t325+t326+t347+t608+t615+t620+t636+t643+t736+t787+t891+t899;
t1130 = t243+t310+t431+t448+t501+t521+t528+t621+t645+t684+t685+t690+t701+t713+t857+t868+t975+t978;
t1131 = t246+t313+t427+t463+t504+t523+t536+t624+t669+t675+t679+t680+t711+t717+t854+t871+t973+t976;
t913 = t97+t380+t385+t807+t816;
t918 = t740.*t902;
t926 = t36+t39+t97+t321+t381+t405+t417+t807+t816;
t927 = t36+t39+t97+t340+t349+t385+t406+t809+t820;
t929 = t740.*t911;
t930 = t740.*t912;
t937 = t394+t644+t756+t808+t817;
t938 = t740.*t915;
t940 = t95+t322+t352+t353+t374+t376+t631+t664+t767+t801;
t941 = t799.*t910;
t951 = t114+t350+t391+t392+t396+t410+t630+t672+t766+t789;
t952 = t950+y3;
t956 = t291.*t741.*t915;
t957 = t296.*t741.*t915;
t960 = t740.*t923;
t967 = -t964;
t969 = -t965;
t977 = t703.*t741.*t915;
t983 = t741.*t742.*t915;
t986 = t741.*t769.*t915;
t990 = t799.*t939;
t993 = t799.*t943;
t1012 = t740.*t1000;
t1022 = t168+t169+t181+t437+t473+t477+t482+t507+t692+t772+t848+t878;
t1026 = t740.*t1018;
t1027 = t322+t374+t492+t631+t688+t698+t704+t748+t876+t885;
t1028 = t350+t410+t520+t630+t705+t716+t722+t743+t875+t882;
t1029 = t829.*t1007;
t1031 = t829.*t1010;
t1037 = t740.*t1024;
t1043 = t799.*t1021;
t1048 = t277+t278+t299+t540+t573+t582+t586+t605+t731+t784+t888+t892;
t1064 = t329+t330+t356+t597+t625+t627+t635+t642+t735+t788+t893+t898;
t1067 = t799.*t1047;
t1077 = t830.*t1007.*(t314+t371+t416+t434+t462+t480+t496-t99.*t204.*2.0);
t1078 = t830.*t1010.*(t314+t371+t416+t434+t462+t480+t496-t99.*t204.*2.0);
t1081 = t830.*t900.*t1007;
t1082 = t799.*t1063;
t1085 = t830.*t900.*t1010;
t1088 = t829.*t1060;
t1090 = t829.*t1062;
t1092 = t830.*t1007.*(t403-t438-t511-t527+t534+t535+t563-t583);
t1111 = t147+t206+t305+t315+t375+t409+t429+t518+t560+t611+t616+t629+t632+t653+t843+t851+t934+t936;
t1115 = t148+t208+t298+t324+t378+t412+t445+t517+t580+t610+t618+t628+t652+t668+t839+t853+t932+t935;
t1124 = t207+t276+t393+t404+t456+t476+t491+t594+t626+t658+t659+t667+t671+t687+t852+t861+t961+t971;
t1125 = t209+t261+t373+t422+t459+t493+t514+t590+t641+t650+t654+t655+t686+t700+t847+t866+t959+t968;
t1139 = t829.*t1130;
t1141 = t829.*t1131;
t942 = -t938;
t946 = (t938-x3).^2;
t949 = t799.*t913;
t953 = abs(t952);
t954 = t952.^2;
t958 = -t957;
t979 = t799.*t926;
t981 = t799.*t927;
t989 = t799.*t937;
t991 = t799.*t940;
t995 = t799.*t951;
t998 = t418.*t800.*t940;
t999 = t407.*t800.*t940;
t1002 = t418.*t800.*t951;
t1003 = t407.*t800.*t951;
t1006 = t749.*t800.*t940;
t1008 = t749.*t800.*t951;
t1013 = t800.*t802.*t940;
t1014 = t800.*t802.*t951;
t1017 = t800.*t815.*t940;
t1019 = t800.*t815.*t951;
t1030 = -t1029;
t1032 = -t1031;
t1033 = t916+t957-1.0;
t1039 = t918+t969+1.0;
t1044 = t799.*t1022;
t1046 = t929+t969;
t1057 = t956+t962;
t1059 = t956+t963;
t1061 = t960+t967;
t1068 = t799.*t1048;
t1072 = t896.*t1027;
t1074 = t896.*t1028;
G = ft_2({M1,M2,M3,M_fem,M_frame,M_hip,M_met,M_met_rod,M_tib,ankle_limit_ex,ankle_limit_flex,default_frame_angle,dtheta1,dtheta2,dtheta3,dtheta_CFL,dx1,dy1,g,k_CFLT,k_Ci,k_GE,k_GEo,k_ankle_ex,k_ankle_flex,k_frame,r,t100,t1002,t1003,t1006,t1007,t1008,t1010,t1011,t1012,t1013,t1014,t1017,t1019,t102,t1025,t1026,t1027,t1028,t1030,t1032,t1033,t1036,t1037,t1039,t104,t1043,t1044,t1046,t1057,t1059,t1061,t1064,t1067,t1068,t1072,t1074,t1077,t1078,t1081,t1082,t1085,t1088,t1090,t1092,t11,t1111,t1115,t112,t1124,t1125,t113,t1139,t1141,t12,t121,t122,t123,t124,t125,t134,t135,t136,t137,t14,t140,t141,t142,t143,t144,t151,t152,t153,t159,t16,t161,t17,t170,t171,t173,t174,t176,t177,t178,t179,t18,t180,t181,t182,t183,t195,t197,t199,t200,t201,t202,t215,t217,t218,t227,t229,t231,t236,t241,t249,t253,t256,t258,t262,t263,t265,t281,t282,t285,t288,t289,t292,t293,t299,t301,t304,t307,t308,t31,t311,t321,t328,t33,t333,t336,t337,t347,t349,t354,t355,t356,t360,t363,t365,t367,t377,t397,t399,t40,t403,t41,t413,t42,t428,t43,t430,t437,t438,t44,t441,t443,t446,t455,t46,t460,t467,t47,t472,t477,t478,t485,t490,t495,t498,t499,t50,t505,t511,t516,t527,t534,t535,t540,t542,t55,t551,t554,t558,t563,t566,t57,t571,t582,t583,t591,t597,t6,t600,t602,t603,t608,t617,t620,t625,t637,t640,t644,t656,t657,t66,t673,t682,t69,t692,t693,t694,t696,t697,t702,t712,t714,t718,t72,t720,t721,t724,t727,t729,t73,t731,t732,t735,t736,t739,t745,t747,t75,t758,t759,t76,t78,t79,t799,t80,t824,t829,t830,t833,t835,t87,t896,t897,t90,t914,t920,t922,t928,t930,t938,t941,t942,t946,t949,t952,t953,t954,t958,t97,t977,t979,t980,t981,t983,t984,t986,t987,t989,t990,t991,t993,t995,t998,t999,theta1,x3});
end
function G = ft_2(ct)
[M1,M2,M3,M_fem,M_frame,M_hip,M_met,M_met_rod,M_tib,ankle_limit_ex,ankle_limit_flex,default_frame_angle,dtheta1,dtheta2,dtheta3,dtheta_CFL,dx1,dy1,g,k_CFLT,k_Ci,k_GE,k_GEo,k_ankle_ex,k_ankle_flex,k_frame,r,t100,t1002,t1003,t1006,t1007,t1008,t1010,t1011,t1012,t1013,t1014,t1017,t1019,t102,t1025,t1026,t1027,t1028,t1030,t1032,t1033,t1036,t1037,t1039,t104,t1043,t1044,t1046,t1057,t1059,t1061,t1064,t1067,t1068,t1072,t1074,t1077,t1078,t1081,t1082,t1085,t1088,t1090,t1092,t11,t1111,t1115,t112,t1124,t1125,t113,t1139,t1141,t12,t121,t122,t123,t124,t125,t134,t135,t136,t137,t14,t140,t141,t142,t143,t144,t151,t152,t153,t159,t16,t161,t17,t170,t171,t173,t174,t176,t177,t178,t179,t18,t180,t181,t182,t183,t195,t197,t199,t200,t201,t202,t215,t217,t218,t227,t229,t231,t236,t241,t249,t253,t256,t258,t262,t263,t265,t281,t282,t285,t288,t289,t292,t293,t299,t301,t304,t307,t308,t31,t311,t321,t328,t33,t333,t336,t337,t347,t349,t354,t355,t356,t360,t363,t365,t367,t377,t397,t399,t40,t403,t41,t413,t42,t428,t43,t430,t437,t438,t44,t441,t443,t446,t455,t46,t460,t467,t47,t472,t477,t478,t485,t490,t495,t498,t499,t50,t505,t511,t516,t527,t534,t535,t540,t542,t55,t551,t554,t558,t563,t566,t57,t571,t582,t583,t591,t597,t6,t600,t602,t603,t608,t617,t620,t625,t637,t640,t644,t656,t657,t66,t673,t682,t69,t692,t693,t694,t696,t697,t702,t712,t714,t718,t72,t720,t721,t724,t727,t729,t73,t731,t732,t735,t736,t739,t745,t747,t75,t758,t759,t76,t78,t79,t799,t80,t824,t829,t830,t833,t835,t87,t896,t897,t90,t914,t920,t922,t928,t930,t938,t941,t942,t946,t949,t952,t953,t954,t958,t97,t977,t979,t980,t981,t983,t984,t986,t987,t989,t990,t991,t993,t995,t998,t999,theta1,x3] = ct{:};
t1084 = t799.*t1064;
t1097 = t977+t1011;
t1099 = t983+t1025;
t1101 = t986+t1036;
t1121 = t829.*t1111;
t1122 = t829.*t1115;
t1133 = t829.*t1124;
t1135 = t829.*t1125;
t1140 = -t1139;
t944 = t942+x3;
t955 = t953.^2;
t992 = -t991;
t996 = t16+t995;
t1001 = -t999;
t1004 = -t1002;
t1005 = -t1003;
t1034 = t285+t1030;
t1040 = t307+t1032;
t1045 = t930+t958;
t1049 = t946+t954;
t1071 = t941+t999-1.0;
t1073 = -t1072;
t1075 = -t1074;
t1094 = t990+t998;
t1095 = t993+t998;
t1103 = t952.*t1061.*2.0;
t1107 = t1006+t1043;
t1113 = t1013+t1067;
t1119 = t1017+t1082;
t1123 = -t1122;
t1134 = -t1133;
t1150 = t263+t1092+t1140;
t945 = abs(t944);
t994 = t14+t992;
t1035 = abs(t1034);
t1041 = abs(t1040);
t1051 = sqrt(t1049);
t1069 = t952.*t996;
t1076 = t949+t1004+1.0;
t1079 = t443+t1073;
t1080 = t472+t1075;
t1083 = t981+t1001;
t1087 = t979+t1004;
t1096 = t989+t1005;
t1106 = t996.*t1040;
t1108 = t996.*t1061;
t1146 = t173+t1078+t1123;
t1148 = t227+t1081+t1134;
t948 = t945.^2;
t1038 = t1035.^2;
t1042 = t1041.^2;
t1053 = 1.0./t1051;
t1065 = -t994.*(t938-x3);
t1070 = 1.0./sqrt(t1069);
t1104 = t994.*t1034;
t1110 = t952.*t1096;
t1126 = t1034.*t1079;
t1128 = t1040.*t1080;
t1132 = t1040.*t1096;
t1050 = t948+t955;
t1066 = 1.0./sqrt(t1065);
t1112 = t1038+t1042;
t1127 = 1.0./sqrt(t1126);
t1129 = 1.0./sqrt(t1128);
t1144 = (t1104-t1106).^2;
t1147 = t1108+t1110;
t1052 = 1.0./t1050;
t1054 = 1.0./sqrt(t1050);
t1114 = 1.0./t1112;
t1116 = 1.0./sqrt(t1112);
t1152 = t953.*t1070.*t1147;
t1055 = t1054.^3;
t1117 = t1116.^3;
t1153 = t1052.*t1114.*t1144;
t1155 = -t1054.*t1116.*(t1104-t1106);
t1154 = -t1153;
t1156 = acos(t1155);
t1157 = t1154+1.0;
t1158 = r.*t1156;
t1159 = 1.0./sqrt(t1157);
t1160 = t46+t1051+t1158;
et1 = t1041.*t1129.*(t1080.*(-t265+t1141+t830.*t1010.*(t403-t438-t511-t527+t534+t535+t563-t583))+t1040.*(-t430+t896.*(t356+t597+t625+t735+t33.*t430+t282.*t455+t282.*t490-t349.*t430.*2.0+t282.*t714+t337.*t682+t337.*t732+t428.*t644-t282.*t337.*t472.*4.0+t6.*t281.*t833-t337.*t428.*t443.*2.0-t6.*t428.*t833+(t6.*t304.*t835.*(t591-t617-t682-t694+t696+t697+t727-t732))./2.0-(t6.*t443.*t835.*(t591-t617-t682-t694+t696+t697+t727-t732))./2.0)+t897.*t1028.*(t591-t617-t682-t694+t696+t697+t727-t732)));
et2 = t1035.*t1127.*(t1079.*t1150+t1034.*(t428-t896.*(t347+t608+t620+t736+t33.*t428+t281.*t455-t321.*t428.*2.0+t281.*t490+t304.*t727+t430.*t644-t281.*t304.*t443.*4.0-t311.*t337.*t472-t6.*t282.*t833+t282.*t367.*t472-t304.*t430.*t472.*2.0+t6.*t430.*t833+(t6.*t337.*t835.*(t591-t617-t682-t694+t696+t697+t727-t732))./2.0-(t6.*t472.*t835.*(t591-t617-t682-t694+t696+t697+t727-t732))./2.0)+t897.*t1027.*(t591-t617-t682-t694+t696+t697+t727-t732)));
et3 = (M_met.*(t758.*(t200+t293+t354+t397).*2.0-t759.*(t201+t301+t360+t399).*2.0))./2.0+(M_tib.*(t558.*(t140+t199+t236).*2.0-t554.*(t141+t202+t241).*2.0))./2.0-(M_fem.*(t288.*(t136+t170).*2.0-t289.*(t134+t177).*2.0))./2.0-(dtheta1.*t17.*t75.*t123.*(dx1+dtheta1.*t11.*t75.*t123).*2.0-dtheta1.*t11.*t75.*t123.*(dy1+dtheta1.*t17.*t75.*t123).*2.0).*(M_frame./2.0+M_hip./2.0)+(k_frame.*(default_frame_angle.*2.0-theta1.*2.0))./2.0;
et4 = -k_GE.*t1160.*((t1053.*(t952.*(t987-t1037).*2.0+t1101.*(t938-x3).*2.0))./2.0-r.*t1159.*(t1054.*t1116.*(t996.*(-t265+t1141+t830.*t1010.*(t403-t438-t511-t527+t534+t535+t563-t583))-t994.*t1150+t1034.*t1119+t1040.*(t1019-t1084))+(t1054.*t1117.*(et1+et2).*(t1104-t1106))./2.0-(t1055.*t1116.*(t945.*t1066.*(t994.*t1101-t1119.*(t938-x3))-t953.*t1070.*(t996.*(t987-t1037)+t952.*(t1019-t1084))).*(t1104-t1106))./2.0))-M_fem.*g.*t161-M_met.*g.*t377-M_tib.*g.*t215-g.*t17.*t123;
et5 = (k_Ci.*t460.*t499.*(t178.*(t40+t72).*2.0-t183.*(t41+t78).*2.0))./2.0+(k_GEo.*t441.*t478.*(t176.*(t40+t73).*2.0-t174.*(t41+t79).*2.0))./2.0;
et6 = t1054.*t1117.*(t1035.*t1127.*(t1079.*t1148+t1034.*(t363-t896.*(t292+t551+t571+t729+t33.*t363+t217.*t455-t321.*t363.*2.0+t217.*t490+t365.*t644+t304.*t712-t217.*t304.*t443.*4.0-t231.*t337.*t472-t6.*t218.*t833+t218.*t367.*t472-t304.*t365.*t472.*2.0+t6.*t365.*t833+(t6.*t337.*t835.*t928)./2.0-(t6.*t472.*t835.*t928)./2.0)+t897.*t928.*t1027))+t1041.*t1129.*(t1040.*(-t365+t896.*(t299+t540+t582+t731+t33.*t365+t218.*t455+t218.*t490-t349.*t365.*2.0+t218.*t714+t337.*t640+t363.*t644+t337.*t720-t218.*t337.*t472.*4.0+t6.*t217.*t833-t337.*t363.*t443.*2.0-t6.*t363.*t833+(t6.*t304.*t835.*t928)./2.0-(t6.*t443.*t835.*t928)./2.0)+t897.*t928.*t1028)+t1080.*(-t229+t1085+t1135))).*(t1104-t1106);
et7 = 1.0./2.0;
et8 = (M_met.*(t758.*(t200+t293+t354+dtheta1.*t333).*2.0-t759.*(t201+t301+t360+dtheta1.*t336).*2.0))./2.0+(M_tib.*(t558.*(t140+t199+dtheta1.*t179).*2.0-t554.*(t141+t202+dtheta1.*t182).*2.0))./2.0+(M_fem.*(t289.*(t134+dtheta1.*t112).*2.0-t288.*(t136+dtheta1.*t113).*2.0))./2.0-k_GE.*t1160.*((t1053.*(t952.*(t984-t1026).*2.0+t1099.*(t938-x3).*2.0))./2.0-r.*t1159.*(t1054.*t1116.*(-t994.*t1148+t1034.*t1113+t1040.*(t1014-t1068)+t996.*(-t229+t1085+t1135))-(t1055.*t1116.*(t945.*t1066.*(t994.*t1099-t1113.*(t938-x3))-t953.*t1070.*(t996.*(t984-t1026)+t952.*(t1014-t1068))).*(t1104-t1106))./2.0+et6.*et7));
et9 = M_fem.*g.*t80.*(-1.0./2.0)-M_met.*g.*t336-M_tib.*g.*t182+(k_Ci.*t460.*t499.*(t72.*t178.*2.0-t78.*t183.*2.0))./2.0-(k_GEo.*t441.*t478.*(t79.*t174.*2.0-t90.*t176))./2.0;
et10 = t1054.*t1117.*(t1041.*t1129.*(t1080.*t1146-t1040.*(-t249+t896.*(t181+t437+t477+t692+t33.*t249+t143.*t455-t249.*t349.*2.0+t143.*t490+t143.*t714+t337.*t542+t337.*t603+t337.*t673-t143.*t337.*t472.*4.0+t6.*t142.*t833-t256.*t337.*t443.*2.0-t6.*t256.*t833+(t6.*t304.*t835.*t914)./2.0-(t6.*t443.*t835.*t914)./2.0)+t897.*t914.*t1028))-t1035.*t1127.*(t1034.*(t256-t896.*(t180+t446+t467+t693+t33.*t256-t256.*t321.*2.0+t142.*t455+t142.*t490+t249.*t644+t304.*t657-t142.*t304.*t443.*4.0-t142.*t337.*t472.*2.0-t6.*t143.*t833+t143.*t367.*t472-t249.*t304.*t472.*2.0+t6.*t249.*t833+(t6.*t337.*t835.*t914)./2.0-(t6.*t472.*t835.*t914)./2.0)+t897.*t914.*t1027)-t1079.*(-t171+t1077+t1121)));
et11 = (t1104-t1106)./2.0;
et12 = t1035.*t1127.*(t1079.*(t121+t1088+t830.*t1007.*(t328+t413+t122.*t253-t102.*t285.*2.0))+t1034.*(-t151+t896.*(t33.*t151-t151.*t321.*2.0+t152.*t644+t304.*t566+t304.*t602+t6.*t152.*t833-(t6.*t337.*t835.*(t485-t495+t600-t151.*t443.*2.0))./2.0+(t6.*t472.*t835.*(t485-t495+t600-t151.*t443.*2.0))./2.0)+t897.*t1027.*(t485-t495+t600-t151.*t443.*2.0)));
et13 = t1041.*t1129.*(t1080.*(t104-t1090+t830.*t1010.*(t328+t413+t122.*t253-t102.*t285.*2.0))+t1040.*(t152+t896.*(t97.*t152+t159.*t349+t337.*t505+t337.*t566+t337.*t602+t6.*t151.*t833+(t6.*t304.*t835.*(t485-t495+t600-t151.*t443.*2.0))./2.0-(t6.*t443.*t835.*(t485-t495+t600-t151.*t443.*2.0))./2.0)+t897.*t1028.*(t485-t495+t600-t151.*t443.*2.0)));
mt1 = [t721+t747-k_GE.*t1160.*((t1053.*(t1103+t1045.*(t938-x3).*2.0))./2.0-r.*t1159.*(t1054.*t1116.*(t1132+t920.*t994+t1034.*t1083+t739.*t829.*t996)+(t1055.*t1116.*(t1152-t945.*t1066.*(t994.*t1045-t1083.*(t938-x3))).*(t1104-t1106))./2.0-(t1054.*t1117.*(t1035.*t1127.*(t920.*t1079+t1034.*(t896.*(t321+t349+t455+t490-t702.*2.0+t304.*t498-t337.*t472.*2.0)-1.0))-t1041.*t1129.*(t896.*t1040.*(t337.*t443.*2.0-t337.*t498)+t739.*t829.*t1080)).*(t1104-t1106))./2.0))];
mt2 = [-t724-t745-M1.*g-M2.*g-M_fem.*g-M_met.*g-M_tib.*g-g.*t31+k_GE.*t1160.*((t1053.*(t952.*t1046.*2.0-t1059.*(t938-x3).*2.0))./2.0+r.*t1159.*(t1054.*t1116.*(t922.*t996-t1040.*t1087+t1034.*t1095-t824.*t829.*t994)+(t1054.*t1117.*(t1035.*t1127.*(t896.*t1034.*(t637+t656+t304.*t516-t367.*t472)+t824.*t829.*t1079)+t1041.*t1129.*(t922.*t1080+t1040.*(t896.*(t321+t349+t455+t490+t714-t718.*2.0+t337.*t516)-1.0))).*(t1104-t1106))./2.0-(t1055.*t1116.*(t953.*t1070.*(t952.*t1087+t996.*t1046)+t945.*t1066.*(t994.*t1059-t1095.*(t938-x3))).*(t1104-t1106))./2.0))];
mt3 = [-t721-t747+k_GE.*t1160.*((t1053.*(t1103-t1033.*(t938-x3).*2.0))./2.0-r.*t1159.*(t1054.*t1116.*(t1132-t1034.*t1071)+(t1055.*t1116.*(t1152+t945.*t1066.*(t994.*t1033-t1071.*(t938-x3))).*(t1104-t1106))./2.0));t724+t745-M3.*g-k_GE.*t1160.*((t1053.*(t952.*t1039.*2.0-t1057.*(t938-x3).*2.0))./2.0-r.*t1159.*(t1054.*t1116.*(t1040.*t1076-t1034.*t1094)+(t1055.*t1116.*(t953.*t1070.*(t952.*t1076+t996.*t1039)+t945.*t1066.*(t994.*t1057-t1094.*(t938-x3))).*(t1104-t1106))./2.0));et3+et4+et5;et8+et9];
mt4 = [(M_met.*(t758.*(t200+t293+dtheta1.*t258+dtheta2.*t258).*2.0-t759.*(t201+t301+dtheta1.*t262+dtheta2.*t262).*2.0))./2.0+(M_tib.*(t558.*(t140+dtheta1.*t135+dtheta2.*t135).*2.0-t554.*(t141+dtheta1.*t137+dtheta2.*t137).*2.0))./2.0-k_GE.*t1160.*((t1053.*(t952.*(t980-t1012).*2.0+t1097.*(t938-x3).*2.0))./2.0+r.*t1159.*(-t1054.*t1116.*(t1034.*t1107-t996.*t1146+t1040.*(t1008-t1044)+t994.*(-t171+t1077+t1121))+(t1055.*t1116.*(t945.*t1066.*(t994.*t1097-t1107.*(t938-x3))-t953.*t1070.*(t996.*(t980-t1012)+t952.*(t1008-t1044))).*(t1104-t1106))./2.0+et10.*et11))-M_met.*g.*t262-(M_tib.*g.*t100)./2.0];
mt5 = [(k_ankle_ex.*(ankle_limit_ex.*2.0+t50))./2.0+(k_ankle_flex.*(ankle_limit_flex.*2.0+t50))./2.0+(M_met.*(t758.*(t200+dtheta1.*t195+dtheta2.*t195+dtheta3.*t195).*2.0-t759.*(t201+dtheta1.*t197+dtheta2.*t197+dtheta3.*t197).*2.0))./2.0-(M_met.*M_met_rod.*g.*t76.*t104)./2.0+k_GE.*r.*t1159.*t1160.*(t1054.*t1116.*(t994.*(t121+t1088+t830.*t1007.*(t328+t413+t122.*t253-t102.*t285.*2.0))-t996.*(t104-t1090+t830.*t1010.*(t328+t413+t122.*t253-t102.*t285.*2.0)))-(t1054.*t1117.*(et12+et13).*(t1104-t1106))./2.0);(M2.*(t153.*(t44+t55).*2.0+t144.*(t42-t57).*2.0))./2.0+M2.*g.*t87-(k_CFLT.*t308.*t355.*(t47.*t124.*2.0-t66.*t125))./2.0-(k_Ci.*t460.*t499.*(t43.*t178.*2.0-t69.*t183))./2.0];
mt6 = [(M2.*(dtheta_CFL.*t12.*t144.*2.0+dtheta_CFL.*t18.*t153.*2.0))./2.0+M2.*g.*t12+(k_CFLT.*t308.*t355.*(t12.*t124.*2.0+t18.*t125.*2.0))./2.0-(k_Ci.*t460.*t499.*(t12.*t183.*2.0+t18.*t178.*2.0))./2.0];
G = [mt1;mt2;mt3;mt4;mt5;mt6];
end
